<html>
<head>
  <meta charset="utf-8">

  <title>The Virtual Reality Passport</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Take a virtual reality tour with on a Google Cardboard headset">
  <meta name="keywords" content="Virtual Reality Passport">
  <meta name="author" content="vrp.com">
  <link rel="icon" type="image/png" href="images/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="images/favicon-16x16.png" sizes="16x16">

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
  <script src="https://npmcdn.com/aframe-event-set-component@3.0.3"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.4/lodash.min.js"
          integrity="sha256-IyWBFJYclFY8Pn32bwWdSHmV4B9M5mby5bhPHEmeY8w=" crossorigin="anonymous"></script>
  <script src="indexPage.js"></script>
</head>
<body>

<a-scene>

  <!--<a-sky data-array-link-id="loc_5" data-array="room" src="assets/images/loaction_5.jpg" visible="true"
         rotation="0 -90 0"></a-sky>
  <a-sky data-array-link-id="loc_4" data-array="room" src="assets/images/loaction_4.jpg" visible="false"
         rotation="0 -90 0"></a-sky>
  <a-sky data-array-link-id="loc_1" data-array="room" src="assets/images/loaction_1.jpg" visible="false"
         rotation="0 -90 0"></a-sky>
  <a-sky data-array-link-id="loc_7" data-array="room" src="assets/images/loaction_7.jpg" visible="false"
         rotation="0 -90 0"></a-sky>
  <a-sky data-array-link-id="loc_2" data-array="room" src="assets/images/loaction_2.jpg" visible="false"
         rotation="0 -90 0"></a-sky>
  <a-sky data-array-link-id="loc_8" data-array="room" src="assets/images/loaction_8.jpg" visible="false"
         rotation="0 -90 0"></a-sky>
  <a-sky data-array-link-id="loc_3" data-array="room" src="assets/images/loaction_3.jpg" visible="false"
         rotation="0 -90 0"></a-sky>
  <a-sky data-array-link-id="loc_6" data-array="room" src="assets/images/loaction_6.jpg" visible="false"
         rotation="0 -90 0"></a-sky>-->
  <a-sky data-array-link-id="loc_5" data-array="room" src="thumbnails/images/loaction_5.jpg" visible="true"
         rotation="0 -90 0"></a-sky>
  <a-sky data-array-link-id="loc_4" data-array="room" src="thumbnails/images/loaction_4.jpg" visible="false"
         rotation="0 -90 0"></a-sky>
  <a-sky data-array-link-id="loc_1" data-array="room" src="thumbnails/images/loaction_1.jpg" visible="false"
         rotation="0 -90 0"></a-sky>
  <a-sky data-array-link-id="loc_7" data-array="room" src="thumbnails/images/loaction_7.jpg" visible="false"
         rotation="0 -90 0"></a-sky>
  <a-sky data-array-link-id="loc_2" data-array="room" src="thumbnails/images/loaction_2.jpg" visible="false"
         rotation="0 -90 0"></a-sky>
  <a-sky data-array-link-id="loc_8" data-array="room" src="thumbnails/images/loaction_8.jpg" visible="false"
         rotation="0 -90 0"></a-sky>
  <a-sky data-array-link-id="loc_3" data-array="room" src="thumbnails/images/loaction_3.jpg" visible="false"
         rotation="0 -90 0"></a-sky>
  <a-sky data-array-link-id="loc_6" data-array="room" src="thumbnails/images/loaction_6.jpg" visible="false"
         rotation="0 -90 0"></a-sky>
  <a-sky id="image-360" radius="10" src="assets/images/loaction_5.jpg"></a-sky>
  <a-entity laser-controls="hand: right"></a-entity>

  <a-entity>
    <a-entity id="camera" camera="" look-controls="" mouse-cursor="">
      <a-cursor id="cursor" cursor="fuse: false" scale="1.3 1.3 1.3"
                animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1.3 1.3 1.3; dur: 150"
                animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500"
                event-set__1="_event: mouseenter; color: #549ad5"
                event-set__2="_event: mouseleave; color: #ededed"
                raycaster="far: 20; objects: .clickable"></a-cursor>
      <!-- raycaster="far: 20; interval: 1000; objects: .clickable"-->
    </a-entity>
  </a-entity>

  <!-- Bottom Circle to hide ugly -->
  <a-entity id="BlackBottomCircle">
    <!-- <a-image class="clickable" src="assets/ui/BlackCircle.png" scale="30 30 30" position="0 -28 0" rotation="-90 0 0" visible="true"></a-image>-->
  </a-entity>

  <!-- Help Text -->
  <a-entity id="helpLink" data-array-link-id="help" data-array="ui" data-is-receiver-for="closehelp" visible="true">
    <!-- <a-image src="assets/ui/HelpMenu.png" position="0 0 -6.32" rotation="-10 0 0" width="8" height="4.1"  material="shader:flat;opacity:1;color:#fff"></a-image>
     <a-image class="clickable" data-array-link-id="help" data-array="ui" data-is-button-for="closehelp" src="assets/ui/x_out_24px.png"  position="0 -.8 -4" width=".6" height=".6" rotation="-10 0 0"></a-image>-->
  </a-entity>

  <!-- Navigation Icons -->
  <a-entity id="navcubeRot">
   <!-- <a-image class="clickable" data-href="/explore" data-array-link="nav" data-array="persist_ui"
             src="assets/thumbs/thumb-explore.png" position="-1.6 -2 -3.8" width=".5" height=".5"
             rotation="-10 0 0"></a-image>-->
  </a-entity>

  <a-entity id="HelpNav">
    <!-- <a-image class="clickable" data-array-link="help" data-array="persist_ui" src="assets/thumbs/thumb-help.png" position="1.6 -2 -3.8" width=".5" height=".5" rotation="-10 0 0"></a-image>-->
  </a-entity>


  <a-entity id="searcj_rot">
    <!--<a-image class="clickable" data-array-link="search_nav" data-array="persist_ui" src="assets/thumbs/thumb-search.png" position="-.8 -2 -3.8" width=".5" height=".5" rotation="-10 0 0"></a-image>-->
  </a-entity>

  <a-entity id="profile_rot">
    <!-- <a-image class="clickable" data-array-link="profile_nav" data-array="persist_ui" src="assets/thumbs/thumb-Profile.png" position="0 -2 -3.8" width=".5" height=".5" rotation="-10 0 0"></a-image>-->
  </a-entity>

  <a-entity id="myPassport_rot">
    <!-- <a-image class="clickable" data-array-link="myPassport_nav" data-array="persist_ui" src="assets/thumbs/thumb-myPassport.png" position=".8 -2 -3.8" width=".5" height=".5" rotation="-10 0 0"></a-image>-->
  </a-entity>

  <!--
   <a-entity data-array-link-id="login_signup_nav" data-array="ui" data-is-receiver-for="closenav" data-is-room-receiver-for="nav_login_signIn_click" visible="false" position="0 -.8 -5" rotation="-10 0 0">
   <a-image src="assets/ui/thumb-art.png" data-poi-array="panelhide" data-array-poi-link="panelhide" width="9" height="6"></a-image>
   -->


  <!-- This is the "navigation panel" with the selection of rooms -->
    <!-- id="thumbMenu" -->
  <!--<a-entity position="0 0 -6" rotation="-10 0 0">
    <a-plane   material="color: #4F4F4F" geometry="primitive: plane;" transparent="true" opacity=".8" width="7.5" height="3.75" ></a-plane>
   &lt;!&ndash; <a-image src="assets/ui/RoomMenu.png" width="9" height="6" position="0 .78 -1.08" scale=".75 .75 .75"></a-image>&ndash;&gt;

   &lt;!&ndash; <a-entity id="NavThumbs" position="0 -1.6 .8" rotation="10 0 0" scale=".9 .9 .9">&ndash;&gt;

      &lt;!&ndash;<a-entity rotation="-10 0 0" width="11" height="5" position="-2.78 1.6 -2">
        <a-image src="thumbnails/images/loaction_5.jpg"></a-image>
        <a-entity text="value: lalslslslslsl; align: center; anchor: center; baseline: center; wrapCount:  5;"></a-entity>
      </a-entity>&ndash;&gt;
     <a-entity position="-2.5 0 .01">
       <a-image src="thumbnails/images/loaction_1.jpg"  width="2" height="1"   ></a-image>
       <a-entity text="value: lalslslslslsl; align: center; anchor: center; baseline: center; wrapCount:  5;" ></a-entity>
     </a-entity>

     <a-image src="thumbnails/images/loaction_5.jpg"  width="2" height="1"  position="0 0 .01" ></a-image>
        <a-image src="thumbnails/images/loaction_5.jpg"  width="2" height="1"  position="2.5 0 .01" ></a-image>
       <a-image src="thumbnails/images/loaction_5.jpg"  width="2" height="1"  position="0 1.25 .01" ></a-image>
        <a-image src="thumbnails/images/loaction_5.jpg"  width="2" height="1"  position="0 -1.25 .01" ></a-image>
        <a-image src="thumbnails/images/loaction_5.jpg"  width="2" height="1"  position="2.5 -1.25 .01" ></a-image>
        <a-image src="thumbnails/images/loaction_5.jpg"  width="2" height="1"  position="-2.5 1.25 .01" ></a-image>
        <a-image src="thumbnails/images/loaction_5.jpg"  width="2" height="1"  position="-2.5 -1.25 .01" ></a-image>
        <a-image src="thumbnails/images/loaction_5.jpg"  width="2" height="1"  position="2.5 1.25 .01"  ></a-image>-->


      <!-- <a-plane data-array-link="loc_1" data-is-room-button-for="navclick" data-array-poi-link="panelhide"
                data-poi-array="panelhide" opacity="0" rotation="-10 0 0" width="12" height="6" position="-2.74 3.3 -.9"
                scale="0.2 0.2 0.2"></a-plane>
       <a-plane data-array-link="loc_4" data-is-room-button-for="navclick" data-array-poi-link="panelhide"
                data-poi-array="panelhide" opacity="0" rotation="-10 0 0" width="12" height="6" position="-2.78 1.6 -.7"
                scale="0.2 0.2 0.2"></a-plane>
       <a-plane data-array-link="loc_7" data-is-room-button-for="navclick" data-array-poi-link="panelhide"
                data-poi-array="panelhide" opacity="0" rotation="-10 0 0" width="12.2" height="6"
                position="-2.84 -.06 -.5" scale="0.2 0.2 0.2"></a-plane>
       <a-plane data-array-link="loc_2" data-is-room-button-for="navclick" data-array-poi-link="panelhide"
                data-poi-array="panelhide" opacity="0" rotation="-10 0 0" width="12" height="6" position="0 3.33 -.9"
                scale="0.2 0.2 0.2"></a-plane>
       <a-plane data-array-link="loc_5" data-is-room-button-for="navclick" data-array-poi-link="panelhide"
                data-poi-array="panelhide" opacity="0" rotation="-10 0 0" width="12" height="6" position="0 1.6 -.7"
                scale="0.2 0.2 0.2"></a-plane>
       <a-plane data-array-link="loc_8" data-is-room-button-for="navclick" data-array-poi-link="panelhide"
                data-poi-array="panelhide" opacity="0" rotation="-10 0 0" width="12.2" height="6" position="0 -.06 -.5"
                scale="0.2 0.2 0.2"></a-plane>
       <a-plane data-array-link="loc_3" data-is-room-button-for="navclick" data-array-poi-link="panelhide"
                data-poi-array="panelhide" opacity="0" rotation="-10 0 0" width="12" height="6" position="2.76 3.32 -.9"
                scale="0.2 0.2 0.2"></a-plane>
       <a-plane data-array-link="loc_6" data-is-room-button-for="navclick" data-array-poi-link="panelhide"
                data-poi-array="panelhide" opacity="0" rotation="-10 0 0" width="12" height="6" position="2.81 1.61 -.7"
                scale="0.2 0.2 0.2"></a-plane>
       <a-plane data-array-link="loc_9" data-is-room-button-for="navclick" data-array-poi-link="panelhide"
                data-poi-array="panelhide" opacity="0" rotation="-10 0 0" width="12.2" height="6"
                position="2.86 -.06 -.5" scale="0.2 0.2 0.2"></a-plane>

       <a-plane data-array-link-id="nav" data-is-button-for="closenav" data-array="ui" data-array-poi-link="panelhide"
                data-poi-array="panelhide" opacity="0" rotation="-10 0 0" width="12.2" height="6"
                position="-1.6 -.21 -.3" rotation="-10 0 0" scale=".1 .1 .1"></a-plane>
 -->
  <!--  </a-entity>
-->

 <!-- </a-entity>-->


</a-scene>

<script type="text/javascript">


	(function () {
		$('a-cursor').on('raycaster-intersection', function (event) {
			//	console.log('intersection event', event);
			//	console.log('intersection event detail', event.detail);
		})
	})();


	$(function () {
		$('[data-href]').click(function () {
			var path = $(this).attr('data-href');
			var base = window.location.origin;
			console.log(window.location);
			console.log(base + path);
			//location = base + path;
		})
	});
	$(document).on('sceneLoaded', function () {
		//document.querySelector('a-scene').flushToDOM(true);
		console.log('sceneloaded');


		$('[data-for=close]').click(removeCloseItem);

		$('[data-for=toggle]').click(function () {
			console.log("data-for");
			$('[data-for=toggle]').each(function () {
				var target = document.querySelector('#' + $(this).attr('data-target'));
				if (target && this.is('active')) {
					for (var i = 0; i < target.children.length; i++) {
						console.log(target.children[i]);
						var inner = target.children[i];
						inner.parentNode.removeChild(inner);
					}
					this.removeState('active');
					target.parentNode.removeChild(target);
					/*	if (target.getAttribute('visible') == true) {
              console.log("hide");
              target.setAttribute('visible', false);
            } else {
              console.log("show");
              target.setAttribute('visible', true);
            }*/
				} else {
					this.setState('active');
					var pageContextDiv = document.getElementById('pageOn');
					var pageContext = pageContextDiv.getAttribute('data-current-page');
					var contentObject = $(this).attr('data-object');
					console.log(pageContextDiv);
					console.log(pageContext);
					$(document).trigger('rebuildEntity', [pageContext, contentObject]);
				}
			});

			var recursive = $(this).attr("data-recursive");

		})
	});

	$(document).on('elementBuiltForAction', () => {
		document.querySelector('a-cursor').components.raycaster.refreshObjects();
	});
	/*$(function(){

  });*/

	$(function () {
		$('[data-is-button-for]').click(function () {
			var receiver = $('[data-is-receiver-for="' + $(this).attr('data-is-button-for') + '"]');
			if (receiver.attr('visible') == true) {
				console.log("hide");
				receiver.attr('visible', false);
			} else {
				console.log("show");
				receiver.attr('visible', true);
			}
		});
	});

	$(function () {
		$('[data-is-toggle-button-for]').click(function () {
			var receiver = $('[data-is-toggle-receiver-for="' + $(this).attr('data-is-toggle-button-for') + '"]');
			if (receiver.attr('visible') == true) {
				console.log("hide");
				receiver.attr('visible', false);
			} else {
				console.log("show");
				receiver.attr('visible', true);
			}
		});
	});

	$(function () {
		$('[data-array-link]').click(function () {
			var link = $(this);
			var linkWindow = $('[data-array-link-id="' + $(this).attr('data-array-link') + '"]');
			$('[data-array="' + linkWindow.attr('data-array') + '"]').each(function (index, object) {
				$(object).attr('visible', false);
			});
			console.log('got here at least');
			linkWindow.attr('visible', true);
		});
	});

	$(function () {
		$('[data-is-room-button-for]').click(function () {
			var receiver = $('[data-is-room-receiver-for="' + $(this).attr('data-is-room-button-for') + '"]');
			if (receiver.attr('visible') == true) {
				console.log("hide");
				receiver.attr('visible', false);
			} else {
				console.log("show");
				receiver.attr('visible', true);
			}
		});
	});

</script>

</body>
</html>
